# Development Dockerfile for Next.js Client
FROM alpine:latest
RUN apk update && apk add nodejs npm && rm -rf /var/cache/apk/*

WORKDIR /app

# Set development environment
ENV NODE_ENV=development
ENV NEXT_TELEMETRY_DISABLED=1
ENV PORT=3000
ENV HOSTNAME="0.0.0.0"


# Copy package files first for better caching
COPY package.json package-lock.json ./

# Install all dependencies (including dev dependencies)
RUN npm ci

EXPOSE 3000

# The actual source code will be mounted as a volume
# Command will be overridden in docker-compose to use next dev
CMD ["npm", "run", "dev"]
